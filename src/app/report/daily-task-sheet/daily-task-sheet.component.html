<app-header></app-header>

<div class="d-flex justify-content-center mt-5">
  <h1>Upload Task Sheet !!!</h1>
  </div>
  <div class="d-flex justify-content-center mt-5">
    <form [formGroup]="TaskSheetForm" autocomplete="off" (ngSubmit)="submit()">
      <div class="form-group mt-3">
        <!-- <div>
          <label>Upload Sheet :</label>
        </div> -->
        <div class="mt-2">
          <input
            type="file"
            class="form-control"
            formControlName="file_path"
            placeholder="Upload File"
            [ngClass]="{
              'is-invalid': TaskSheetFormSubmitted && r['file_path'].errors
            }"
            accept=".xlsx" 
            (change)="handleFileInput($event)"
          />
          <div
            *ngIf="TaskSheetFormSubmitted && r['file_path'].errors"
            class="invalid-feedback"
          >
            <div *ngIf="r['file_path'].errors['required']">
              Upload sheet is required
            </div>
          </div>
          <div class="mt-4 d-flex justify-content-center">
              <button class="btn btn-primary">Upload</button>
          </div>
        </div>
      </div>
    </form>
    
  </div>  
<div class="from mt-5 border border-primary bottomparts">
  <div class="row tbl_heading d-flex center mt-2  mb-2 border-bottom">
    <h3 style="text-align: center;">Your Tasksheet Data</h3>
  </div>
  <div class="row border-bottom mt-2">
      <div class="col-sm-8">
            <div class="row">
              <div class="col-sm-3">
                <h4 style="color: #1b158c;"> Select Date :</h4>
              </div>
            <div class="col-sm-9">
              <input type="text" style="max-width: 75%; "  class="form-control clsDatePickerDOB" 
              placeholder="DD/MM/YYYY" data-provide="datapicker"/>
            </div>
          </div>
        </div>
        <div class="col-sm-2 btn_shows mb-1 ">
            <button class="btn btn-outline-primary" (click)="showTasksheetDate();" >Show TaskSheet</button>
        </div>
  </div>
<!-- <div class="tbl_eom">
    <table id="tbl_emp_data" class="table table-bordered table-striped">
        <thead>
            <tr class="table-light">
                <th>Sr. No</th>
                <th>Employee ID</th>
                <th>Employee Name</th>
                <th>Uploaded Date</th>
                <th>Download TaskSheet</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let e of user_DataSheet; let i = index">
                <td>{{ i+1 }}</td>
                <td>{{ e.emp_id }}</td>
                <td>{{ e.emp_name }}</td>
                <td>{{ e.uploaded_date }}</td>       
                <td>
                   <button class="eventbtn" (click)="downloadclk(e.emp_name,e.file_path,e.file_type)"><i
                       class="fa fa-download" ></i></button>     
                </td>
            </tr>
        </tbody>
    </table>
</div> -->
  <div class="tbl_eom">
    <table id="tbl_emp_data" class="table table-bordered table-striped">
          <thead>
              <tr class="table-light">
                  <th class="centerliaze">Sr. No</th>
                  <th class="centerliaze">Employee ID</th>
                  <th class="centerliaze">Employee Name</th>
                  <th class="centerliaze">Uploaded Date</th>
                  <th class="centerliaze">Download TaskSheet</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let e of user_DataSheet; let i = index">
                  <td class="centerliaze">{{ i+1 }}</td>
                  <td class="centerliaze">{{ e.emp_id }}</td>
                  <td class="centerliaze">{{ e.emp_name }}</td>
                  <td class="centerliaze">{{ e.uploaded_date }}</td>       
                  <td class="centerliaze">
                    <i style="color: green; " class="bi bi-download" (click)="downloadclk(e.emp_name,e.file_path,e.file_type)"></i>    
                  </td>
              </tr>
              <tr  class="centerliaze"   *ngIf="isDataAvail">
                <td   colspan="5">Sorry There's No Data Avilable</td>
            </tr>
          </tbody>
    </table>
  </div>
</div>
<app-footer></app-footer>